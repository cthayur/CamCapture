{"version":3,"file":"camCapture.js","sources":["../src/camCaptureStartUp.js","../src/ICamCaptureSettings.js","../src/ICamCapture.js","../src/camCaptureRtc.js","../src/camCaptureFlash.js","../src/camCapture.js","../src/camCaptureBootstrapper.js"],"names":["Hilary","window","camCaptureContainer","container","navigator","register","name","dependencies","factory","options","self","this","getMedia","getUserMedia","webkitGetUserMedia","mozGetUserMedia","msGetUserMedia","webRtcAvailable","flashRequired","forceFlash","captureParameters","delay","rtc","flash","frames","relativeSwfLocation","canvasWidth","canvasHeight","displayWidth","displayHeight","getNewCanvas","width","height","videoSelector","flashVideoSelector","camAccessSuccess","camAccessError","implementation","ctor","Error","capture","captureBurst","destroy","ICamCapture","prototype","$","setInterval","clearInterval","$self","localStream","settings","$video","videoElem","rtcAccessSuccess","rtcAccessError","type","css","stream","src","URL","createObjectURL","vendorURL","webkitURL","play","err","video","audio","callback","data","canvas","html","children","getContext","drawImage","toDataURL","currentInterval","i","images","push","temp","stop","jQuery","webcam","resetImageInfo","flashCallback","pos","imageInfo","show","mode","swffile","onTick","onSave","col","split","img","image","tmp","parseInt","ctx","putImageData","onCapture","save","debug","val","hide","getImageData","ICamCaptureSettings","CamCaptureRtc","CamCaptureFlash","CamCapture","resolve"],"mappings":"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"}