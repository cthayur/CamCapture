{"version":3,"file":"camCapture.js","sources":["../src/camCaptureStartUp.js","../src/ICamCaptureSettings.js","../src/ICamCapture.js","../src/camCaptureRtc.js","../src/camCaptureFlash.js","../src/camCapture.js","../src/camCaptureBootstrapper.js"],"names":["Hilary","window","camCaptureContainer","container","navigator","register","name","dependencies","factory","options","self","this","getMedia","getUserMedia","webkitGetUserMedia","mozGetUserMedia","msGetUserMedia","webRtcAvailable","flashRequired","forceFlash","captureParameters","delay","rtc","flash","frames","relativeSwfLocation","canvasWidth","canvasHeight","displayWidth","displayHeight","getNewCanvas","width","height","videoSelector","flashVideoSelector","onLoaded","camAccessError","implementation","ctor","Error","capture","captureBurst","destroy","ICamCapture","prototype","$","setInterval","clearInterval","$self","localStream","settings","$video","videoElem","rtcAccessSuccess","rtcAccessError","css","stream","src","URL","createObjectURL","vendorURL","webkitURL","play","err","video","audio","callback","data","canvas","html","children","getContext","drawImage","toDataURL","currentInterval","i","images","push","temp","stop","jQuery","webcam","resetImageInfo","flashCallback","pos","imageInfo","show","mode","swffile","onTick","onSave","col","split","img","image","tmp","parseInt","ctx","putImageData","onCapture","save","debug","type","string","onLoad","hide","getImageData","ICamCaptureSettings","CamCaptureRtc","CamCaptureFlash","CamCapture","resolve"],"mappings":"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"}